<ion-header>
  <ion-navbar>
    <img ion-right src="assets/imgs/OTRS_logo.png"/>
    <h3 class="fontColor">SELF SERVICE PORTAL</h3>
  	<!-- <div class="logout"><button ion-button color="secondary" (click)="logout()">Logout</button></div> -->
  
  <ion-buttons left>
  	<button ion-button icon-only menuToggle>
  	<ion-icon name="menu"></ion-icon>
  	</button>
  </ion-buttons>
  
  </ion-navbar>
</ion-header>

<ion-content padding>
  <p>Welcome {{userDetails.name}}</p>
  <p>Email: {{userDetails.email}}</p>

<ion-grid>
<ion-row>
  <ion-col col-4>
    <button ion-button icon-start class="btnSize" (click)="reportIncident()">
      Report an Incident
    </button>
  </ion-col>
  <ion-col col-4 style="padding-left: 50px">
  <button ion-button icon-end class="btnSize" (click)="raiseRequest()">
    Raise a Request
    <!-- <ion-icon name="btn1"></ion-icon> -->
  </button>
  </ion-col>
</ion-row>
<ion-row>
  <ion-col col-4>
  <button ion-button icon-start class="btnSize" (click)="registerComplaint()">
    Register a Complaint
  </button>
  </ion-col>
  <ion-col col-4 style="padding-left: 50px">
  <button ion-button icon-end class="btnSize" (click)="knowledgeBase()">
    Knowledge Base
  </button>
</ion-col>
</ion-row>
</ion-grid>

<h5 style="padding-left: 10px;">My Tickets</h5>
<ion-grid class="gridCol">

 <ion-row>
    <ion-col col-6><button ion-button block (click)="openTickets();" [ngStyle]="{'background-color': buttonOpenColor}" class="tabButton">Open</button></ion-col>
    <ion-col col-6><button ion-button block (click)="closedTickets();" [ngStyle]="{'background-color': buttonClosedColor}"  class="tabButton">Closed</button></ion-col>
  </ion-row>

<ion-grid *ngIf="hideOpen">
  <ion-row class="headerCol">
    <ion-col col-4>Ticket No.</ion-col>
    <ion-col col-5>Title</ion-col>
    <ion-col col-2>Action</ion-col>
  </ion-row>
  <ion-scroll scrollY="true" style="width: 100%; height: 130px;">
  <ion-row padding wrap *ngFor="let openTicket of openTicketResult">
    <ion-col col-4>{{openTicket.TicketNumber}}</ion-col>
    <ion-col col-5>{{openTicket.Title}}</ion-col>
    <ion-col col-2>
      <button ion-button class="updateBtn" (click)="openTicketDetails(openTicket.TicketID)"><ion-icon name="paper"></ion-icon></button>
    </ion-col>
  </ion-row>
  </ion-scroll>
</ion-grid>

<ion-grid *ngIf="hideClosed">
  <ion-row class="headerCol">
    <ion-col col-5>Ticket No.</ion-col>
    <ion-col col-5>Title</ion-col>
    <!-- <ion-col col-2>Action</ion-col> -->
  </ion-row>
  <ion-scroll scrollY="true" style="width: 100%; height: 130px;">
  <ion-row padding wrap *ngFor="let closedTicket of closedTicketResult">
    <ion-col col-5>{{closedTicket.TicketNumber}}</ion-col>
    <ion-col col-5>{{closedTicket.Title}}</ion-col>
    <!-- <ion-col col-2>
      <button ion-button class="updateBtn" (click)="closedTicketDetails(openTicket.TicketID)"><ion-icon name="paper"></ion-icon></button>
    </ion-col> -->
  </ion-row>
  </ion-scroll>
</ion-grid>

</ion-grid>
</ion-content>

